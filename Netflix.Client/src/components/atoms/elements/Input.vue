<template>
    <input
        :type="type"
        :placeholder="placeholder"
        v-model="vmodelValue"
        :style="{ width: width + 'px !important' }"
        @change="emit('change', vmodelValue)"
        @keyup.enter="emit('enter', vmodelValue)"
        @keyup.esc="emit('cancel')"
        @focus="emit('focus')"
        @keydown="emit('keydown', vmodelValue)"
    />
</template>

<script lang="ts" setup>
/***********************************************************************************************************/
/*                                             I M P O R T                                                 */
/***********************************************************************************************************/
    import { defineProps, toRefs } from 'vue'
	
/***********************************************************************************************************/
/*                                               D A T A                                                   */
/***********************************************************************************************************/
    const vmodelValue = defineModel<any>();

/***********************************************************************************************************/
/*                                            C O M P U T E D                                              */
/***********************************************************************************************************/


/***********************************************************************************************************/
/*                                              P R O P S                                                  */
/***********************************************************************************************************/
    const props = withDefaults(defineProps<{type: string, placeholder: string, width: number }>(), { type: 'text', placeholder: '', width: 100 });
    const { type, placeholder, width } = toRefs(props);

/***********************************************************************************************************/
/*                                           L I F E C Y C L E                                             */
/***********************************************************************************************************/


/***********************************************************************************************************/
/*                                             M E T H O D                                                 */
/***********************************************************************************************************/


/***********************************************************************************************************/
/*                                               E M I T                                                   */
/***********************************************************************************************************/
    const emit = defineEmits<{ change: [value: any], enter: [value: any], cancel: [], focus: [], keydown: [value: any] }>();

/***********************************************************************************************************/
/*                                              W A T C H                                                  */
/***********************************************************************************************************/
</script>

<style scoped>
    input {
        flex-grow: 1;
        height: 48px;
        padding: 0 16px;
        font-size: 16px;
        color: #333333;
        border: 1px solid #d9d9d9;
        border-radius: 4px;
        background-color: #ffffff;
        transition: border-color 0.3s ease;
    }

    input:focus {
        outline: none;
        border-color: #4d90fe;
    }
</style>