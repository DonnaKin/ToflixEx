<template>
    <teleport to="#modalLayout">
        <div id="popup" class="popup">
            <div class="popup_wrap">
                <slot name="header"></slot>

                <div class="Modal_content_wrap">
                    <LoadingBar v-if="isLoading"/>

                    <div class="text_box" v-else>
                        <slot name="content"></slot>
                    </div>
                </div>

                <slot name="footer"></slot>
            </div>
        </div>

        <slot name="modal"></slot>
    </teleport>
</template>

<script lang="ts" setup>
/***********************************************************************************************************/
/*                                             I M P O R T                                                 */
/***********************************************************************************************************/
    import { computed, defineProps, toRefs } from 'vue'
    import LoadingBar from '../atoms/etc/LoadingBar.vue';

/***********************************************************************************************************/
/*                                               D A T A                                                   */
/***********************************************************************************************************/


/***********************************************************************************************************/
/*                                            C O M P U T E D                                              */
/***********************************************************************************************************/
    const modalStyle = computed(() => {
        return `width: ${width.value}px; height: ${height.value}px`;
    })

    const contentStyle = computed(() => {
        return `height: ${height.value - 200}px`;
    })

/***********************************************************************************************************/
/*                                              P R O P S                                                  */
/***********************************************************************************************************/
    const props = withDefaults(defineProps<{ content: Content, width: number, height: number, isLoading: boolean }>(), { content: Object.create(null), width: 800, height: 400, isLoading: false });
    const { content, width, height, isLoading } = toRefs(props);


/***********************************************************************************************************/
/*                                           L I F E C Y C L E                                             */
/***********************************************************************************************************/


/***********************************************************************************************************/
/*                                             M E T H O D                                                 */
/***********************************************************************************************************/
    

/***********************************************************************************************************/
/*                                               E M I T                                                   */
/***********************************************************************************************************/
    
</script>

<style scoped>
    .dim { display: block; width: 100%; height: 100%; position: fixed; left: 50%; top: 0;  background-color: rgba(0,0,0,0.7); transform: translateX(-50%); z-index: 100; } 
</style>