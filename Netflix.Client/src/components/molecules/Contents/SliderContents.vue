<template>
    <h3 class="contents_title">{{ title }}</h3>
    <div class="list_wrap type_slider" :class="`slider${idx}`">
        <Swiper
            :modules="[ Navigation ]"
            :slides-per-view="5"
            :slides-per-group="5"
            :space-between="8"
            :loop="true"
            :speed="700"
            :navigation="{
                nextEl: `.slider${idx} .btn_next`,
                prevEl: `.slider${idx} .btn_prev`
            }"
        >
            <SwiperSlide class="item" v-for="content in contents" :key="content.code">
                <Content :content="content" @SelectContent="SelectContent" />
            </SwiperSlide>
        </Swiper>

        <div class="btn_nav btn_next"></div>
        <div class="btn_nav btn_prev"></div>
    </div>
</template>

<script setup lang="ts">
/**********************************************************************************************************/
/*                                             I M P O R T                                                 */
/***********************************************************************************************************/
    import { Swiper, SwiperSlide } from 'swiper/vue';
    import { Navigation } from 'swiper/modules';
    import Content from '@/components/atoms/Contents/Content.vue'
    import { defineProps, toRefs } from 'vue';

/***********************************************************************************************************/
/*                                               D A T A                                                   */
/***********************************************************************************************************/


/***********************************************************************************************************/
/*                                            C O M P U T E D                                              */
/***********************************************************************************************************/


/***********************************************************************************************************/
/*                                              P R O P S                                                  */
/***********************************************************************************************************/
    const props = withDefaults(defineProps<{ title: string, idx: number, contents: Array<Content> }>(), { title: '시청중인 컨텐츠', idx: 0, contents: Object.create(null) })
    const { title, contents } = toRefs(props);

/***********************************************************************************************************/
/*                                           L I F E C Y C L E                                             */
/***********************************************************************************************************/


/***********************************************************************************************************/
/*                                             M E T H O D                                                 */
/***********************************************************************************************************/
    function SelectContent(content: Content) {
        emit('SelectContent', content)
    }

/***********************************************************************************************************/
/*                                               E M I T                                                   */
/***********************************************************************************************************/
    const emit = defineEmits<{ SelectContent: [content: Content] }>();

/***********************************************************************************************************/
/*                                              W A T C H                                                  */
/***********************************************************************************************************/
</script>